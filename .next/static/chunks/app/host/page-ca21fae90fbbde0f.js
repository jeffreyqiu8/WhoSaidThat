(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[557],{63:(e,t,a)=>{"use strict";var s=a(7260);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},2327:(e,t,a)=>{"use strict";a.d(t,{J5:()=>n,u1:()=>l,uE:()=>c});let s={maxRetries:3,retryDelay:1e3,backoffMultiplier:2,retryableStatuses:[408,429,500,502,503,504]};function r(e){return new Promise(t=>setTimeout(t,e))}async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={...s,...a},l=null;for(let a=0;a<=n.maxRetries;a++)try{let s=await fetch(e,t);if(s.ok||!n.retryableStatuses.includes(s.status))return s;let c=Error("HTTP ".concat(s.status,": ").concat(s.statusText));c.status=s.status;try{c.data=await s.json()}catch(e){}if(l=c,a===n.maxRetries)throw c;let i=n.retryDelay*Math.pow(n.backoffMultiplier,a);console.log("Request failed with status ".concat(s.status,". Retrying in ").concat(i,"ms... (attempt ").concat(a+1,"/").concat(n.maxRetries,")")),await r(i)}catch(t){var c;if(l=t,a===n.maxRetries||(c=n.retryableStatuses,!(!t.status||c.includes(t.status))))throw t;let e=n.retryDelay*Math.pow(n.backoffMultiplier,a);console.log("Request failed: ".concat(t.message,". Retrying in ").concat(e,"ms... (attempt ").concat(a+1,"/").concat(n.maxRetries,")")),await r(e)}throw l||Error("Request failed after retries")}function l(e){if(e instanceof Error){var t;if(null==(t=e.data)?void 0:t.error)return e.data.error;if(e.status)switch(e.status){case 400:return"Invalid request. Please check your input.";case 401:return"You are not authorized to perform this action.";case 403:return"Access denied.";case 404:return"Resource not found.";case 408:return"Request timeout. Please try again.";case 409:return"Conflict. The resource already exists or is in an invalid state.";case 429:return"Too many requests. Please slow down and try again.";case 500:return"Server error. Please try again later.";case 502:case 503:case 504:return"Service temporarily unavailable. Please try again."}return e.message||"An unexpected error occurred."}return"An unexpected error occurred."}let c={async post(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,r=await n(e,{method:"POST",headers:{"Content-Type":"application/json",...a.headers},body:JSON.stringify(t),...a},s);if(!r.ok){let e=Error("HTTP ".concat(r.status,": ").concat(r.statusText));e.status=r.status;try{e.data=await r.json()}catch(e){}throw e}return r.json()},async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=await n(e,{method:"GET",...t},a);if(!s.ok){let e=Error("HTTP ".concat(s.status,": ").concat(s.statusText));e.status=s.status;try{e.data=await s.json()}catch(e){}throw e}return s.json()}}},4525:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(5155),r=a(2115),n=a(63),l=a(2327),c=a(9443);function i(){let e=(0,n.useRouter)(),[t,a]=(0,r.useState)(""),[i,o]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),y=async e=>{e.preventDefault(),x(null),d(!0);try{let e=await l.uE.post("/api/game/create",{hostNickname:t},{},{maxRetries:2,retryDelay:1e3});o(e.code)}catch(e){x((0,l.u1)(e))}finally{d(!1)}},g=async()=>{if(i)try{await navigator.clipboard.writeText(i),p(!0),setTimeout(()=>p(!1),2e3)}catch(e){console.error("Failed to copy:",e)}};return i?(0,s.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-4 sm:p-6 bg-gradient-to-br from-purple-50 to-blue-50",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-6 sm:space-y-8 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold mb-3 sm:mb-4 text-gray-900",children:"Game Created!"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"Share this code with your friends"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 sm:p-8 space-y-5 sm:space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-500 mb-2",children:"Game Code"}),(0,s.jsx)("div",{className:"text-5xl sm:text-6xl font-bold text-purple-600 tracking-wider mb-4",children:i})]}),(0,s.jsx)("button",{onClick:g,className:"w-full bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition-colors duration-200 min-h-[44px]",children:h?"✓ Copied!":"Copy Code"}),(0,s.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Waiting for players to join..."}),(0,s.jsx)("button",{onClick:()=>{i&&e.push("/game/".concat(i))},className:"w-full bg-purple-600 hover:bg-purple-700 active:bg-purple-800 text-white font-semibold py-4 px-6 rounded-lg transition-colors duration-200 shadow-lg hover:shadow-xl min-h-[44px]",children:"Go to Game Lobby"})]})]}),(0,s.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 px-2",children:(0,s.jsxs)("p",{className:"break-all",children:["Players can join at: yoursite.com/join/",i]})})]})}):(0,s.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-4 sm:p-6 bg-gradient-to-br from-purple-50 to-blue-50",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold mb-3 sm:mb-4 text-gray-900",children:"Create a Game"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"Enter your nickname to get started"})]}),(0,s.jsxs)("form",{onSubmit:y,className:"space-y-5 sm:space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Nickname"}),(0,s.jsx)("input",{type:"text",id:"nickname",value:t,onChange:e=>a(e.target.value),placeholder:"Enter nickname (3-20 characters)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all min-h-[44px] text-base",minLength:3,maxLength:20,required:!0,disabled:u}),(0,s.jsx)("p",{className:"mt-2 text-xs sm:text-sm text-gray-500",children:"Alphanumeric characters and spaces only"})]}),m&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:m}),(0,s.jsx)("button",{type:"submit",disabled:u||t.length<3,className:"w-full bg-purple-600 hover:bg-purple-700 active:bg-purple-800 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-semibold py-4 px-6 rounded-lg transition-colors duration-200 shadow-lg hover:shadow-xl min-h-[44px]",children:u?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsx)(c.A,{size:"md",className:"mr-3 text-white"}),"Creating Game..."]}):"Create Game"})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("a",{href:"/",className:"text-purple-600 hover:text-purple-700 active:text-purple-800 text-sm font-medium inline-block min-h-[44px] flex items-center justify-center",children:"← Back to Home"})})]})})}},7937:(e,t,a)=>{Promise.resolve().then(a.bind(a,4525))},9443:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(5155);function r(e){let{size:t="md",className:a=""}=e;return(0,s.jsxs)("svg",{className:"animate-spin ".concat({sm:"h-4 w-4",md:"h-5 w-5",lg:"h-8 w-8"}[t]," ").concat(a),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=7937)),_N_E=e.O()}]);